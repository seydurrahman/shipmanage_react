{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\Ship-Management\\\\frontend\\\\src\\\\components\\\\forms\\\\DailyIncomeForm.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport api from \"../../api/axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DailyIncomeForm() {\n  _s();\n  const [formData, setFormData] = useState({\n    ship: \"\",\n    project: \"\",\n    amount: \"\",\n    date: \"\",\n    notes: \"\"\n  });\n  const [submitting, setSubmitting] = useState(false);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const submit = async e => {\n    e.preventDefault();\n    setSubmitting(true);\n    try {\n      // Basic client-side validation\n      if (!formData.ship) {\n        alert(\"Please provide a ship id (or select a ship).\");\n        setSubmitting(false);\n        return;\n      }\n      if (!formData.project) {\n        alert(\"Please provide a project id (or select a project).\");\n        setSubmitting(false);\n        return;\n      }\n      if (!formData.date) {\n        alert(\"Please provide a date.\");\n        setSubmitting(false);\n        return;\n      }\n      const amount = parseFloat(String(formData.amount));\n      if (isNaN(amount) || amount <= 0) {\n        alert(\"Please provide a valid positive amount.\");\n        setSubmitting(false);\n        return;\n      }\n\n      // Ensure numeric IDs where expected\n      const payload = {\n        ship: parseInt(formData.ship),\n        project: parseInt(formData.project),\n        amount: Math.round(amount * 100) / 100,\n        date: formData.date,\n        notes: formData.notes || \"\"\n      };\n      await api.post(\"/incomes/\", payload);\n      alert(\"Daily income recorded\");\n      setFormData({\n        ship: \"\",\n        project: \"\",\n        amount: \"\",\n        date: \"\",\n        notes: \"\"\n      });\n    } catch (err) {\n      var _err$response, _err$response2, _err$response2$data;\n      console.error(\"DailyIncome create error:\", err.response || err);\n      const serverData = (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data;\n      const message = serverData ? JSON.stringify(serverData) : ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.detail) || err.message;\n      alert(\"Error creating daily income: \" + message);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-cover bg-center p-6\",\n    style: {\n      backgroundImage: `url('https://images.unsplash.com/photo-1511379938547-c1f69b13d835?w=1920&h=1080&fit=crop')`\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-black/30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      className: \"relative max-w-lg mx-auto space-y-4 p-6 bg-white shadow-lg rounded\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold\",\n        children: \"Add Daily Income\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"ship\",\n        placeholder: \"Ship ID\",\n        className: \"w-full border p-2 rounded\",\n        value: formData.ship,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"project\",\n        placeholder: \"Project ID\",\n        className: \"w-full border p-2 rounded\",\n        value: formData.project,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"amount\",\n        placeholder: \"Amount\",\n        type: \"number\",\n        step: \"0.01\",\n        className: \"w-full border p-2 rounded\",\n        value: formData.amount,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"date\",\n        type: \"date\",\n        className: \"w-full border p-2 rounded\",\n        value: formData.date,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"notes\",\n        placeholder: \"Notes (optional)\",\n        className: \"w-full border p-2 rounded\",\n        value: formData.notes,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: submitting,\n        className: \"w-full bg-blue-600 text-white py-2 rounded\",\n        children: submitting ? \"Saving...\" : \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(DailyIncomeForm, \"PAx0xliGIVgnjQklxCf6bP+ZaZM=\");\n_c = DailyIncomeForm;\nvar _c;\n$RefreshReg$(_c, \"DailyIncomeForm\");","map":{"version":3,"names":["useState","api","jsxDEV","_jsxDEV","DailyIncomeForm","_s","formData","setFormData","ship","project","amount","date","notes","submitting","setSubmitting","handleChange","e","name","value","target","prev","submit","preventDefault","alert","parseFloat","String","isNaN","payload","parseInt","Math","round","post","err","_err$response","_err$response2","_err$response2$data","console","error","response","serverData","data","message","JSON","stringify","detail","className","style","backgroundImage","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","onChange","required","type","step","disabled","_c","$RefreshReg$"],"sources":["D:/Project/Ship-Management/frontend/src/components/forms/DailyIncomeForm.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport api from \"../../api/axios\";\r\n\r\nexport default function DailyIncomeForm() {\r\n  const [formData, setFormData] = useState({ ship: \"\", project: \"\", amount: \"\", date: \"\", notes: \"\" });\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    setSubmitting(true);\r\n    try {\r\n      // Basic client-side validation\r\n      if (!formData.ship) {\r\n        alert(\"Please provide a ship id (or select a ship).\");\r\n        setSubmitting(false);\r\n        return;\r\n      }\r\n      if (!formData.project) {\r\n        alert(\"Please provide a project id (or select a project).\");\r\n        setSubmitting(false);\r\n        return;\r\n      }\r\n      if (!formData.date) {\r\n        alert(\"Please provide a date.\");\r\n        setSubmitting(false);\r\n        return;\r\n      }\r\n      const amount = parseFloat(String(formData.amount));\r\n      if (isNaN(amount) || amount <= 0) {\r\n        alert(\"Please provide a valid positive amount.\");\r\n        setSubmitting(false);\r\n        return;\r\n      }\r\n\r\n      // Ensure numeric IDs where expected\r\n      const payload = {\r\n        ship: parseInt(formData.ship),\r\n        project: parseInt(formData.project),\r\n        amount: Math.round(amount * 100) / 100,\r\n        date: formData.date,\r\n        notes: formData.notes || \"\",\r\n      };\r\n\r\n      await api.post(\"/incomes/\", payload);\r\n      alert(\"Daily income recorded\");\r\n      setFormData({ ship: \"\", project: \"\", amount: \"\", date: \"\", notes: \"\" });\r\n    } catch (err) {\r\n      console.error(\"DailyIncome create error:\", err.response || err);\r\n      const serverData = err.response?.data;\r\n      const message = serverData ? JSON.stringify(serverData) : err.response?.data?.detail || err.message;\r\n      alert(\"Error creating daily income: \" + message);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"min-h-screen bg-cover bg-center p-6\"\r\n      style={{\r\n        backgroundImage: `url('https://images.unsplash.com/photo-1511379938547-c1f69b13d835?w=1920&h=1080&fit=crop')`,\r\n      }}\r\n    >\r\n      <div className=\"absolute inset-0 bg-black/30\"></div>\r\n      <form\r\n        onSubmit={submit}\r\n        className=\"relative max-w-lg mx-auto space-y-4 p-6 bg-white shadow-lg rounded\"\r\n      >\r\n        <h2 className=\"text-xl font-semibold\">Add Daily Income</h2>\r\n\r\n        <input\r\n          name=\"ship\"\r\n          placeholder=\"Ship ID\"\r\n          className=\"w-full border p-2 rounded\"\r\n          value={formData.ship}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          name=\"project\"\r\n          placeholder=\"Project ID\"\r\n          className=\"w-full border p-2 rounded\"\r\n          value={formData.project}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          name=\"amount\"\r\n          placeholder=\"Amount\"\r\n          type=\"number\"\r\n          step=\"0.01\"\r\n          className=\"w-full border p-2 rounded\"\r\n          value={formData.amount}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          name=\"date\"\r\n          type=\"date\"\r\n          className=\"w-full border p-2 rounded\"\r\n          value={formData.date}\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          name=\"notes\"\r\n          placeholder=\"Notes (optional)\"\r\n          className=\"w-full border p-2 rounded\"\r\n          value={formData.notes}\r\n          onChange={handleChange}\r\n        />\r\n\r\n        <button\r\n          disabled={submitting}\r\n          className=\"w-full bg-blue-600 text-white py-2 rounded\"\r\n        >\r\n          {submitting ? \"Saving...\" : \"Save\"}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}