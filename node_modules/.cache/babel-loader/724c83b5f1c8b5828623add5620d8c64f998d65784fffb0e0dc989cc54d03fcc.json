{"ast":null,"code":"// src/components/Dashboard.jsx\nimport React,{useState,useEffect,useCallback}from\"react\";import api from\"../api/axios\";import{format,subMonths,startOfMonth,endOfMonth,eachDayOfInterval}from\"date-fns\";// Bar Chart Component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BarChartComponent=/*#__PURE__*/React.memo(_ref=>{let{ships,dailyIncomes,selectedDate}=_ref;const[selectedShip,setSelectedShip]=useState(null);const[scrollPosition,setScrollPosition]=useState(0);// Get all days in the month\nconst monthStart=startOfMonth(selectedDate);const monthEnd=endOfMonth(selectedDate);const daysInMonth=eachDayOfInterval({start:monthStart,end:monthEnd});// Show only 7 days at a time (based on scroll position)\nconst daysPerView=7;const displayedDays=daysInMonth.slice(scrollPosition,scrollPosition+daysPerView);// Group incomes by ship and date\nconst chartData=ships.map(ship=>{const shipIncomes=displayedDays.map(day=>{const dateStr=format(day,\"yyyy-MM-dd\");const dayIncomes=dailyIncomes.filter(inc=>inc.ship===ship.id&&inc.date===dateStr);return dayIncomes.reduce((sum,inc)=>sum+parseFloat(inc.amount||0),0);});return{ship:ship.name,shipId:ship.id,data:shipIncomes};});// Filter by selected ship if any\nconst filteredChartData=selectedShip?chartData.filter(d=>d.shipId===selectedShip):chartData;// Colors for each ship\nconst colors=[\"#3b82f6\",\"#ef4444\",\"#10b981\",\"#f59e0b\",\"#8b5cf6\",\"#06b6d4\"];// Scroll handlers\nconst handleScrollLeft=()=>{setScrollPosition(Math.max(0,scrollPosition-1));};const handleScrollRight=()=>{setScrollPosition(Math.min(daysInMonth.length-daysPerView,scrollPosition+1));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedShip(null),className:\"px-4 py-2 rounded font-semibold transition \".concat(selectedShip===null?\"bg-blue-600 text-white\":\"bg-gray-200 text-gray-700 hover:bg-gray-300\"),children:\"All Ships\"}),ships.map(ship=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedShip(ship.id),className:\"px-4 py-2 rounded font-semibold transition \".concat(selectedShip===ship.id?\"bg-blue-600 text-white\":\"bg-gray-200 text-gray-700 hover:bg-gray-300\"),children:ship.name},ship.id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleScrollLeft,disabled:scrollPosition===0,className:\"px-3 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300 hover:bg-blue-600 transition\",children:\"\\u2190\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-hidden\",style:{minHeight:\"400px\"},children:/*#__PURE__*/_jsxs(\"svg\",{width:\"100%\",height:\"400\",viewBox:\"0 0 \".concat(daysPerView*80+100,\" 400\"),children:[/*#__PURE__*/_jsx(\"line\",{x1:\"60\",y1:\"30\",x2:\"60\",y2:\"350\",stroke:\"#333\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"60\",y1:\"350\",x2:daysPerView*80+80,y2:\"350\",stroke:\"#333\",strokeWidth:\"2\"}),[0,5000,10000,15000,20000,25000].map((val,idx)=>/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"line\",{x1:\"55\",y1:350-val/25000*300,x2:\"60\",y2:350-val/25000*300,stroke:\"#333\",strokeWidth:\"1\"}),/*#__PURE__*/_jsxs(\"text\",{x:\"10\",y:350-val/25000*300+5,fontSize:\"12\",fill:\"#666\",children:[val/1000,\"K\"]})]},idx)),[0,5000,10000,15000,20000,25000].map((val,idx)=>/*#__PURE__*/_jsx(\"line\",{x1:\"60\",y1:350-val/25000*300,x2:daysPerView*80+80,y2:350-val/25000*300,stroke:\"#e5e7eb\",strokeWidth:\"1\",strokeDasharray:\"4\"},idx)),displayedDays.map((day,dayIdx)=>{const x=80+dayIdx*80;let barX=x;return/*#__PURE__*/_jsxs(\"g\",{children:[filteredChartData.map((shipData,shipIdx)=>{const value=shipData.data[dayIdx];const barWidth=15;const barHeight=value/25000*300;const currentBarX=barX;barX+=barWidth+2;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"rect\",{x:currentBarX,y:350-barHeight,width:barWidth,height:barHeight,fill:colors[shipData.shipId%colors.length],opacity:\"0.8\"}),value>0&&/*#__PURE__*/_jsxs(\"text\",{x:currentBarX+barWidth/2,y:350-barHeight-5,fontSize:\"10\",textAnchor:\"middle\",fill:\"#333\",children:[(value/1000).toFixed(0),\"K\"]})]},shipIdx);}),/*#__PURE__*/_jsx(\"text\",{x:x+30,y:\"375\",fontSize:\"11\",textAnchor:\"middle\",fill:\"#666\",transform:\"rotate(45, \".concat(x+30,\", 375)\"),children:format(day,\"d-MMM\")})]},dayIdx);})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleScrollRight,disabled:scrollPosition>=daysInMonth.length-daysPerView,className:\"px-3 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300 hover:bg-blue-600 transition\",children:\"\\u2192\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-4 mt-4 justify-center\",children:filteredChartData.map((shipData,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 rounded\",style:{backgroundColor:colors[shipData.shipId%colors.length]}}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold\",children:shipData.ship})]},idx))})]});});BarChartComponent.displayName=\"BarChartComponent\";const Dashboard=()=>{const[selectedDate,setSelectedDate]=useState(new Date());const[dailyIncomes,setDailyIncomes]=useState([]);const[monthlyProfits,setMonthlyProfits]=useState([]);const[ships,setShips]=useState([]);const[expenses,setExpenses]=useState([]);const[loading,setLoading]=useState(false);// Fetch ships\nconst fetchShips=useCallback(async()=>{try{const response=await api.get(\"ships/\");const shipData=Array.isArray(response.data)?response.data:response.data.results||[];setShips(shipData);}catch(error){console.error(\"Error fetching ships:\",error);setShips([]);}},[]);// Fetch all daily incomes\nconst fetchDailyIncomes=useCallback(async()=>{try{const response=await api.get(\"incomes/\");const incomeData=Array.isArray(response.data)?response.data:response.data.results||[];setDailyIncomes(incomeData);}catch(error){console.error(\"Error fetching daily incomes:\",error);setDailyIncomes([]);}},[]);// Fetch all expenses\nconst fetchExpenses=useCallback(async()=>{try{const response=await api.get(\"expenses/\");const expenseData=Array.isArray(response.data)?response.data:response.data.results||[];setExpenses(expenseData);}catch(error){console.error(\"Error fetching expenses:\",error);setExpenses([]);}},[]);// Fetch monthly profits\nconst fetchMonthlyProfits=useCallback(async()=>{try{const response=await api.get(\"profits/\");const profitData=Array.isArray(response.data)?response.data:response.data.results||[];setMonthlyProfits(profitData);}catch(error){console.error(\"Error fetching monthly profits:\",error);setMonthlyProfits([]);}},[]);useEffect(()=>{fetchShips();fetchDailyIncomes();fetchExpenses();fetchMonthlyProfits();},[fetchShips,fetchDailyIncomes,fetchExpenses,fetchMonthlyProfits]);const calculateProfit=async()=>{setLoading(true);try{const monthStr=format(selectedDate,\"yyyy-MM\");// Calculate profit for all ships\nconst promises=ships.map(ship=>api.post(\"profits/calculate_profit/\",{ship_id:ship.id,month:monthStr}));await Promise.all(promises);fetchMonthlyProfits();alert(\"Profit calculated successfully for all ships!\");}catch(error){var _error$response,_error$response$data;alert(\"Error calculating profit: \"+(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||error.message));}finally{setLoading(false);}};// Calculate daily income for selected date\nconst todayIncomes=dailyIncomes.filter(inc=>inc.date===format(selectedDate,\"yyyy-MM-dd\"));const todayTotal=todayIncomes.reduce((sum,inc)=>sum+parseFloat(inc.amount||0),0);// Calculate monthly income and expenses for selected month\nconst monthStr=format(selectedDate,\"yyyy-MM\");const monthIncomes=dailyIncomes.filter(inc=>{var _inc$date;return(_inc$date=inc.date)===null||_inc$date===void 0?void 0:_inc$date.startsWith(monthStr);});const monthlyTotal=monthIncomes.reduce((sum,inc)=>sum+parseFloat(inc.amount||0),0);const monthExpenses=expenses.filter(exp=>{var _exp$date;return(_exp$date=exp.date)===null||_exp$date===void 0?void 0:_exp$date.startsWith(monthStr);});const monthlyExpenseTotal=monthExpenses.reduce((sum,exp)=>sum+parseFloat(exp.amount||0),0);// Calculate trend (today vs average daily for month)\nconst avgDailyForMonth=monthIncomes.length>0?monthlyTotal/monthIncomes.length:0;const trend=todayTotal-avgDailyForMonth;const trendPercent=avgDailyForMonth>0?(trend/avgDailyForMonth*100).toFixed(1):0;// Ship-wise daily income for selected date\nconst shipWiseIncome=ships.map(ship=>({ship,dayIncome:todayIncomes.filter(inc=>inc.ship===ship.id).reduce((sum,inc)=>sum+parseFloat(inc.amount||0),0),thisMonthIncome:monthIncomes.filter(inc=>inc.ship===ship.id).reduce((sum,inc)=>sum+parseFloat(inc.amount||0),0),lastMonthIncome:dailyIncomes.filter(inc=>{var _inc$date2;return inc.ship===ship.id&&((_inc$date2=inc.date)===null||_inc$date2===void 0?void 0:_inc$date2.startsWith(format(subMonths(selectedDate,1),\"yyyy-MM\")));}).reduce((sum,inc)=>sum+parseFloat(inc.amount||0),0)}));return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-8xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-8\",children:\"Ship Management Dashboard\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:format(selectedDate,\"yyyy-MM-dd\"),onChange:e=>setSelectedDate(new Date(e.target.value)),className:\"border rounded px-4 py-2 text-lg\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Ship-wise Income\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:shipWiseIncome.map(_ref2=>{let{ship,dayIncome,thisMonthIncome,lastMonthIncome}=_ref2;const trend=thisMonthIncome-lastMonthIncome;const trendPercent=lastMonthIncome>0?(trend/lastMonthIncome*100).toFixed(1):0;return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4 hover:shadow-md transition\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-800 mb-3 text-lg\",children:ship.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 pb-3 border-b\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Day Income\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-blue-600\",children:[\"Tk \",dayIncome.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 pb-3 border-b\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"This Month Income\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-green-600\",children:[\"Tk \",thisMonthIncome.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Last Month Income\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-gray-700\",children:[\"Tk \",lastMonthIncome.toFixed(2)]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold \".concat(trend>=0?\"bg-green-100 text-green-700\":\"bg-red-100 text-red-700\"),children:[trend>=0?\"↑\":\"↓\",\" \",Math.abs(trendPercent),\"%\"]})]})]})]},ship.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Ship-wise Daily Income Chart\"}),/*#__PURE__*/_jsx(BarChartComponent,{ships:ships,dailyIncomes:dailyIncomes,selectedDate:selectedDate})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold mb-4\",children:[\"Monthly Summary - \",format(selectedDate,\"MMMM yyyy\")]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-l-4 border-green-500 pl-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Total Income\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-green-600\",children:[\"Tk \",monthlyTotal.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-l-4 border-red-500 pl-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Total Expenses\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-red-600\",children:[\"Tk \",monthlyExpenseTotal.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-l-4 \".concat(monthlyTotal-monthlyExpenseTotal>=0?\"border-green-500\":\"border-red-500\",\" pl-4\"),children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Net Profit\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold \".concat(monthlyTotal-monthlyExpenseTotal>=0?\"text-green-600\":\"text-red-600\"),children:[\"Tk \",(monthlyTotal-monthlyExpenseTotal).toFixed(2)]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Monthly Profits History\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>calculateProfit(),disabled:loading,className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:bg-blue-300\",children:loading?\"Calculating...\":\"Calculate Profit - \".concat(format(selectedDate,\"MMM yyyy\"))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-50 border-b\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left font-semibold\",children:\"Ship\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left font-semibold\",children:\"Month\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right font-semibold\",children:\"Income\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right font-semibold\",children:\"Expenses\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right font-semibold\",children:\"Net Profit\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-center font-semibold\",children:\"Trend\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Array.isArray(monthlyProfits)&&monthlyProfits.length>0?monthlyProfits.map((profit,idx)=>{var _monthlyProfits;const prevProfit=idx>0?(_monthlyProfits=monthlyProfits[idx-1])===null||_monthlyProfits===void 0?void 0:_monthlyProfits.net_profit:profit.net_profit;const profitTrend=profit.net_profit-prevProfit;return/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3\",children:profit.ship_name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3\",children:format(new Date(profit.month),\"MMM yyyy\")}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 text-right\",children:[\"Tk \",parseFloat(profit.total_income||0).toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 text-right\",children:[\"Tk \",parseFloat(profit.total_expenses||0).toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 text-right font-semibold \".concat(profit.net_profit>=0?\"text-green-600\":\"text-red-600\"),children:[\"Tk \",parseFloat(profit.net_profit||0).toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm font-semibold \".concat(profitTrend>=0?\"bg-green-100 text-green-700\":\"bg-red-100 text-red-700\"),children:[profitTrend>=0?\"↑\":\"↓\",\" \",Math.abs(profitTrend).toFixed(0)]})})]},profit.id);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",className:\"px-4 py-3 text-center text-gray-500\",children:\"No profit data available. Click \\\"Calculate\\\" to generate profit reports.\"})})})]})})]})]})});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useCallback","api","format","subMonths","startOfMonth","endOfMonth","eachDayOfInterval","jsx","_jsx","jsxs","_jsxs","BarChartComponent","memo","_ref","ships","dailyIncomes","selectedDate","selectedShip","setSelectedShip","scrollPosition","setScrollPosition","monthStart","monthEnd","daysInMonth","start","end","daysPerView","displayedDays","slice","chartData","map","ship","shipIncomes","day","dateStr","dayIncomes","filter","inc","id","date","reduce","sum","parseFloat","amount","name","shipId","data","filteredChartData","d","colors","handleScrollLeft","Math","max","handleScrollRight","min","length","children","className","onClick","concat","disabled","style","minHeight","width","height","viewBox","x1","y1","x2","y2","stroke","strokeWidth","val","idx","x","y","fontSize","fill","strokeDasharray","dayIdx","barX","shipData","shipIdx","value","barWidth","barHeight","currentBarX","opacity","textAnchor","toFixed","transform","backgroundColor","displayName","Dashboard","setSelectedDate","Date","setDailyIncomes","monthlyProfits","setMonthlyProfits","setShips","expenses","setExpenses","loading","setLoading","fetchShips","response","get","Array","isArray","results","error","console","fetchDailyIncomes","incomeData","fetchExpenses","expenseData","fetchMonthlyProfits","profitData","calculateProfit","monthStr","promises","post","ship_id","month","Promise","all","alert","_error$response","_error$response$data","message","todayIncomes","todayTotal","monthIncomes","_inc$date","startsWith","monthlyTotal","monthExpenses","exp","_exp$date","monthlyExpenseTotal","avgDailyForMonth","trend","trendPercent","shipWiseIncome","dayIncome","thisMonthIncome","lastMonthIncome","_inc$date2","type","onChange","e","target","_ref2","abs","profit","_monthlyProfits","prevProfit","net_profit","profitTrend","ship_name","total_income","total_expenses","colSpan"],"sources":["D:/Project/Ship-Management/frontend/src/components/Dashboard.jsx"],"sourcesContent":["// src/components/Dashboard.jsx\r\nimport React, { useState, useEffect, useCallback } from \"react\";\r\nimport api from \"../api/axios\";\r\nimport {\r\n  format,\r\n  subMonths,\r\n  startOfMonth,\r\n  endOfMonth,\r\n  eachDayOfInterval,\r\n} from \"date-fns\";\r\n\r\n// Bar Chart Component\r\nconst BarChartComponent = React.memo(\r\n  ({ ships, dailyIncomes, selectedDate }) => {\r\n    const [selectedShip, setSelectedShip] = useState(null);\r\n    const [scrollPosition, setScrollPosition] = useState(0);\r\n\r\n    // Get all days in the month\r\n    const monthStart = startOfMonth(selectedDate);\r\n    const monthEnd = endOfMonth(selectedDate);\r\n    const daysInMonth = eachDayOfInterval({ start: monthStart, end: monthEnd });\r\n\r\n    // Show only 7 days at a time (based on scroll position)\r\n    const daysPerView = 7;\r\n    const displayedDays = daysInMonth.slice(\r\n      scrollPosition,\r\n      scrollPosition + daysPerView\r\n    );\r\n\r\n    // Group incomes by ship and date\r\n    const chartData = ships.map((ship) => {\r\n      const shipIncomes = displayedDays.map((day) => {\r\n        const dateStr = format(day, \"yyyy-MM-dd\");\r\n        const dayIncomes = dailyIncomes.filter(\r\n          (inc) => inc.ship === ship.id && inc.date === dateStr\r\n        );\r\n        return dayIncomes.reduce(\r\n          (sum, inc) => sum + parseFloat(inc.amount || 0),\r\n          0\r\n        );\r\n      });\r\n      return { ship: ship.name, shipId: ship.id, data: shipIncomes };\r\n    });\r\n\r\n    // Filter by selected ship if any\r\n    const filteredChartData = selectedShip\r\n      ? chartData.filter((d) => d.shipId === selectedShip)\r\n      : chartData;\r\n\r\n    // Colors for each ship\r\n    const colors = [\r\n      \"#3b82f6\",\r\n      \"#ef4444\",\r\n      \"#10b981\",\r\n      \"#f59e0b\",\r\n      \"#8b5cf6\",\r\n      \"#06b6d4\",\r\n    ];\r\n\r\n    // Scroll handlers\r\n    const handleScrollLeft = () => {\r\n      setScrollPosition(Math.max(0, scrollPosition - 1));\r\n    };\r\n\r\n    const handleScrollRight = () => {\r\n      setScrollPosition(\r\n        Math.min(daysInMonth.length - daysPerView, scrollPosition + 1)\r\n      );\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        {/* Ship Filter Buttons */}\r\n        <div className=\"mb-4 flex flex-wrap gap-2\">\r\n          <button\r\n            onClick={() => setSelectedShip(null)}\r\n            className={`px-4 py-2 rounded font-semibold transition ${\r\n              selectedShip === null\r\n                ? \"bg-blue-600 text-white\"\r\n                : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n            }`}\r\n          >\r\n            All Ships\r\n          </button>\r\n          {ships.map((ship) => (\r\n            <button\r\n              key={ship.id}\r\n              onClick={() => setSelectedShip(ship.id)}\r\n              className={`px-4 py-2 rounded font-semibold transition ${\r\n                selectedShip === ship.id\r\n                  ? \"bg-blue-600 text-white\"\r\n                  : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n              }`}\r\n            >\r\n              {ship.name}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Chart with Navigation */}\r\n        <div className=\"flex items-center gap-4\">\r\n          {/* Left Scroll Button */}\r\n          <button\r\n            onClick={handleScrollLeft}\r\n            disabled={scrollPosition === 0}\r\n            className=\"px-3 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300 hover:bg-blue-600 transition\"\r\n          >\r\n            ←\r\n          </button>\r\n\r\n          {/* Chart */}\r\n          <div\r\n            className=\"flex-1 overflow-hidden\"\r\n            style={{ minHeight: \"400px\" }}\r\n          >\r\n            <svg\r\n              width=\"100%\"\r\n              height=\"400\"\r\n              viewBox={`0 0 ${daysPerView * 80 + 100} 400`}\r\n            >\r\n              {/* Y-axis */}\r\n              <line\r\n                x1=\"60\"\r\n                y1=\"30\"\r\n                x2=\"60\"\r\n                y2=\"350\"\r\n                stroke=\"#333\"\r\n                strokeWidth=\"2\"\r\n              />\r\n\r\n              {/* X-axis */}\r\n              <line\r\n                x1=\"60\"\r\n                y1=\"350\"\r\n                x2={daysPerView * 80 + 80}\r\n                y2=\"350\"\r\n                stroke=\"#333\"\r\n                strokeWidth=\"2\"\r\n              />\r\n\r\n              {/* Y-axis labels */}\r\n              {[0, 5000, 10000, 15000, 20000, 25000].map((val, idx) => (\r\n                <g key={idx}>\r\n                  <line\r\n                    x1=\"55\"\r\n                    y1={350 - (val / 25000) * 300}\r\n                    x2=\"60\"\r\n                    y2={350 - (val / 25000) * 300}\r\n                    stroke=\"#333\"\r\n                    strokeWidth=\"1\"\r\n                  />\r\n                  <text\r\n                    x=\"10\"\r\n                    y={350 - (val / 25000) * 300 + 5}\r\n                    fontSize=\"12\"\r\n                    fill=\"#666\"\r\n                  >\r\n                    {val / 1000}K\r\n                  </text>\r\n                </g>\r\n              ))}\r\n\r\n              {/* Grid lines */}\r\n              {[0, 5000, 10000, 15000, 20000, 25000].map((val, idx) => (\r\n                <line\r\n                  key={idx}\r\n                  x1=\"60\"\r\n                  y1={350 - (val / 25000) * 300}\r\n                  x2={daysPerView * 80 + 80}\r\n                  y2={350 - (val / 25000) * 300}\r\n                  stroke=\"#e5e7eb\"\r\n                  strokeWidth=\"1\"\r\n                  strokeDasharray=\"4\"\r\n                />\r\n              ))}\r\n\r\n              {/* Bars */}\r\n              {displayedDays.map((day, dayIdx) => {\r\n                const x = 80 + dayIdx * 80;\r\n                let barX = x;\r\n\r\n                return (\r\n                  <g key={dayIdx}>\r\n                    {filteredChartData.map((shipData, shipIdx) => {\r\n                      const value = shipData.data[dayIdx];\r\n                      const barWidth = 15;\r\n                      const barHeight = (value / 25000) * 300;\r\n                      const currentBarX = barX;\r\n                      barX += barWidth + 2;\r\n\r\n                      return (\r\n                        <g key={shipIdx}>\r\n                          <rect\r\n                            x={currentBarX}\r\n                            y={350 - barHeight}\r\n                            width={barWidth}\r\n                            height={barHeight}\r\n                            fill={colors[shipData.shipId % colors.length]}\r\n                            opacity=\"0.8\"\r\n                          />\r\n                          {value > 0 && (\r\n                            <text\r\n                              x={currentBarX + barWidth / 2}\r\n                              y={350 - barHeight - 5}\r\n                              fontSize=\"10\"\r\n                              textAnchor=\"middle\"\r\n                              fill=\"#333\"\r\n                            >\r\n                              {(value / 1000).toFixed(0)}K\r\n                            </text>\r\n                          )}\r\n                        </g>\r\n                      );\r\n                    })}\r\n\r\n                    {/* Date label */}\r\n                    <text\r\n                      x={x + 30}\r\n                      y=\"375\"\r\n                      fontSize=\"11\"\r\n                      textAnchor=\"middle\"\r\n                      fill=\"#666\"\r\n                      transform={`rotate(45, ${x + 30}, 375)`}\r\n                    >\r\n                      {format(day, \"d-MMM\")}\r\n                    </text>\r\n                  </g>\r\n                );\r\n              })}\r\n            </svg>\r\n          </div>\r\n\r\n          {/* Right Scroll Button */}\r\n          <button\r\n            onClick={handleScrollRight}\r\n            disabled={scrollPosition >= daysInMonth.length - daysPerView}\r\n            className=\"px-3 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300 hover:bg-blue-600 transition\"\r\n          >\r\n            →\r\n          </button>\r\n        </div>\r\n\r\n        {/* Legend */}\r\n        <div className=\"flex flex-wrap gap-4 mt-4 justify-center\">\r\n          {filteredChartData.map((shipData, idx) => (\r\n            <div key={idx} className=\"flex items-center gap-2\">\r\n              <div\r\n                className=\"w-4 h-4 rounded\"\r\n                style={{\r\n                  backgroundColor: colors[shipData.shipId % colors.length],\r\n                }}\r\n              ></div>\r\n              <span className=\"text-sm font-semibold\">{shipData.ship}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nBarChartComponent.displayName = \"BarChartComponent\";\r\n\r\nconst Dashboard = () => {\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n  const [dailyIncomes, setDailyIncomes] = useState([]);\r\n  const [monthlyProfits, setMonthlyProfits] = useState([]);\r\n  const [ships, setShips] = useState([]);\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Fetch ships\r\n  const fetchShips = useCallback(async () => {\r\n    try {\r\n      const response = await api.get(\"ships/\");\r\n      const shipData = Array.isArray(response.data)\r\n        ? response.data\r\n        : response.data.results || [];\r\n      setShips(shipData);\r\n    } catch (error) {\r\n      console.error(\"Error fetching ships:\", error);\r\n      setShips([]);\r\n    }\r\n  }, []);\r\n\r\n  // Fetch all daily incomes\r\n  const fetchDailyIncomes = useCallback(async () => {\r\n    try {\r\n      const response = await api.get(\"incomes/\");\r\n      const incomeData = Array.isArray(response.data)\r\n        ? response.data\r\n        : response.data.results || [];\r\n      setDailyIncomes(incomeData);\r\n    } catch (error) {\r\n      console.error(\"Error fetching daily incomes:\", error);\r\n      setDailyIncomes([]);\r\n    }\r\n  }, []);\r\n\r\n  // Fetch all expenses\r\n  const fetchExpenses = useCallback(async () => {\r\n    try {\r\n      const response = await api.get(\"expenses/\");\r\n      const expenseData = Array.isArray(response.data)\r\n        ? response.data\r\n        : response.data.results || [];\r\n      setExpenses(expenseData);\r\n    } catch (error) {\r\n      console.error(\"Error fetching expenses:\", error);\r\n      setExpenses([]);\r\n    }\r\n  }, []);\r\n\r\n  // Fetch monthly profits\r\n  const fetchMonthlyProfits = useCallback(async () => {\r\n    try {\r\n      const response = await api.get(\"profits/\");\r\n      const profitData = Array.isArray(response.data)\r\n        ? response.data\r\n        : response.data.results || [];\r\n      setMonthlyProfits(profitData);\r\n    } catch (error) {\r\n      console.error(\"Error fetching monthly profits:\", error);\r\n      setMonthlyProfits([]);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchShips();\r\n    fetchDailyIncomes();\r\n    fetchExpenses();\r\n    fetchMonthlyProfits();\r\n  }, [fetchShips, fetchDailyIncomes, fetchExpenses, fetchMonthlyProfits]);\r\n\r\n  const calculateProfit = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const monthStr = format(selectedDate, \"yyyy-MM\");\r\n      // Calculate profit for all ships\r\n      const promises = ships.map((ship) =>\r\n        api.post(\"profits/calculate_profit/\", {\r\n          ship_id: ship.id,\r\n          month: monthStr,\r\n        })\r\n      );\r\n      await Promise.all(promises);\r\n      fetchMonthlyProfits();\r\n      alert(\"Profit calculated successfully for all ships!\");\r\n    } catch (error) {\r\n      alert(\r\n        \"Error calculating profit: \" +\r\n          (error.response?.data?.error || error.message)\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Calculate daily income for selected date\r\n  const todayIncomes = dailyIncomes.filter(\r\n    (inc) => inc.date === format(selectedDate, \"yyyy-MM-dd\")\r\n  );\r\n  const todayTotal = todayIncomes.reduce(\r\n    (sum, inc) => sum + parseFloat(inc.amount || 0),\r\n    0\r\n  );\r\n\r\n  // Calculate monthly income and expenses for selected month\r\n  const monthStr = format(selectedDate, \"yyyy-MM\");\r\n  const monthIncomes = dailyIncomes.filter((inc) =>\r\n    inc.date?.startsWith(monthStr)\r\n  );\r\n  const monthlyTotal = monthIncomes.reduce(\r\n    (sum, inc) => sum + parseFloat(inc.amount || 0),\r\n    0\r\n  );\r\n\r\n  const monthExpenses = expenses.filter((exp) =>\r\n    exp.date?.startsWith(monthStr)\r\n  );\r\n  const monthlyExpenseTotal = monthExpenses.reduce(\r\n    (sum, exp) => sum + parseFloat(exp.amount || 0),\r\n    0\r\n  );\r\n\r\n  // Calculate trend (today vs average daily for month)\r\n  const avgDailyForMonth =\r\n    monthIncomes.length > 0 ? monthlyTotal / monthIncomes.length : 0;\r\n  const trend = todayTotal - avgDailyForMonth;\r\n  const trendPercent =\r\n    avgDailyForMonth > 0 ? ((trend / avgDailyForMonth) * 100).toFixed(1) : 0;\r\n\r\n  // Ship-wise daily income for selected date\r\n  const shipWiseIncome = ships.map((ship) => ({\r\n    ship,\r\n    dayIncome: todayIncomes\r\n      .filter((inc) => inc.ship === ship.id)\r\n      .reduce((sum, inc) => sum + parseFloat(inc.amount || 0), 0),\r\n    thisMonthIncome: monthIncomes\r\n      .filter((inc) => inc.ship === ship.id)\r\n      .reduce((sum, inc) => sum + parseFloat(inc.amount || 0), 0),\r\n    lastMonthIncome: dailyIncomes\r\n      .filter(\r\n        (inc) =>\r\n          inc.ship === ship.id &&\r\n          inc.date?.startsWith(format(subMonths(selectedDate, 1), \"yyyy-MM\"))\r\n      )\r\n      .reduce((sum, inc) => sum + parseFloat(inc.amount || 0), 0),\r\n  }));\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-6\">\r\n      <div className=\"max-w-8xl mx-auto\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">\r\n          Ship Management Dashboard\r\n        </h1>\r\n\r\n        {/* Date Selector */}\r\n        <div className=\"mb-6\">\r\n          <input\r\n            type=\"date\"\r\n            value={format(selectedDate, \"yyyy-MM-dd\")}\r\n            onChange={(e) => setSelectedDate(new Date(e.target.value))}\r\n            className=\"border rounded px-4 py-2 text-lg\"\r\n          />\r\n        </div>\r\n\r\n        {/* Ship-wise Daily Income */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\r\n          <h2 className=\"text-xl font-semibold mb-4\">Ship-wise Income</h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n            {shipWiseIncome.map(\r\n              ({ ship, dayIncome, thisMonthIncome, lastMonthIncome }) => {\r\n                const trend = thisMonthIncome - lastMonthIncome;\r\n                const trendPercent =\r\n                  lastMonthIncome > 0\r\n                    ? ((trend / lastMonthIncome) * 100).toFixed(1)\r\n                    : 0;\r\n\r\n                return (\r\n                  <div\r\n                    key={ship.id}\r\n                    className=\"border rounded-lg p-4 hover:shadow-md transition\"\r\n                  >\r\n                    <h3 className=\"font-semibold text-gray-800 mb-3 text-lg\">\r\n                      {ship.name}\r\n                    </h3>\r\n\r\n                    {/* Day Income */}\r\n                    <div className=\"mb-3 pb-3 border-b\">\r\n                      <p className=\"text-xs text-gray-500\">Day Income</p>\r\n                      <p className=\"text-xl font-bold text-blue-600\">\r\n                        Tk {dayIncome.toFixed(2)}\r\n                      </p>\r\n                    </div>\r\n\r\n                    {/* This Month Income */}\r\n                    <div className=\"mb-3 pb-3 border-b\">\r\n                      <p className=\"text-xs text-gray-500\">This Month Income</p>\r\n                      <p className=\"text-xl font-bold text-green-600\">\r\n                        Tk {thisMonthIncome.toFixed(2)}\r\n                      </p>\r\n                    </div>\r\n\r\n                    {/* Last Month Income + Trend */}\r\n                    <div>\r\n                      <p className=\"text-xs text-gray-500\">Last Month Income</p>\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <p className=\"text-xl font-bold text-gray-700\">\r\n                          Tk {lastMonthIncome.toFixed(2)}\r\n                        </p>\r\n                        <span\r\n                          className={`flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold ${\r\n                            trend >= 0\r\n                              ? \"bg-green-100 text-green-700\"\r\n                              : \"bg-red-100 text-red-700\"\r\n                          }`}\r\n                        >\r\n                          {trend >= 0 ? \"↑\" : \"↓\"} {Math.abs(trendPercent)}%\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              }\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Ship-wise Daily Income Bar Chart */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\r\n          <h2 className=\"text-xl font-semibold mb-4\">\r\n            Ship-wise Daily Income Chart\r\n          </h2>\r\n          <BarChartComponent\r\n            ships={ships}\r\n            dailyIncomes={dailyIncomes}\r\n            selectedDate={selectedDate}\r\n          />\r\n        </div>\r\n\r\n        {/* Income vs Expenses Comparison */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\r\n          <h2 className=\"text-xl font-semibold mb-4\">\r\n            Monthly Summary - {format(selectedDate, \"MMMM yyyy\")}\r\n          </h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            {/* Income */}\r\n            <div className=\"border-l-4 border-green-500 pl-4\">\r\n              <p className=\"text-gray-600 text-sm\">Total Income</p>\r\n              <p className=\"text-3xl font-bold text-green-600\">\r\n                Tk {monthlyTotal.toFixed(2)}\r\n              </p>\r\n            </div>\r\n\r\n            {/* Expenses */}\r\n            <div className=\"border-l-4 border-red-500 pl-4\">\r\n              <p className=\"text-gray-600 text-sm\">Total Expenses</p>\r\n              <p className=\"text-3xl font-bold text-red-600\">\r\n                Tk {monthlyExpenseTotal.toFixed(2)}\r\n              </p>\r\n            </div>\r\n\r\n            {/* Net Profit */}\r\n            <div\r\n              className={`border-l-4 ${\r\n                monthlyTotal - monthlyExpenseTotal >= 0\r\n                  ? \"border-green-500\"\r\n                  : \"border-red-500\"\r\n              } pl-4`}\r\n            >\r\n              <p className=\"text-gray-600 text-sm\">Net Profit</p>\r\n              <p\r\n                className={`text-3xl font-bold ${\r\n                  monthlyTotal - monthlyExpenseTotal >= 0\r\n                    ? \"text-green-600\"\r\n                    : \"text-red-600\"\r\n                }`}\r\n              >\r\n                Tk {(monthlyTotal - monthlyExpenseTotal).toFixed(2)}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Monthly Profits Table */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h2 className=\"text-xl font-semibold\">Monthly Profits History</h2>\r\n            <button\r\n              onClick={() => calculateProfit()}\r\n              disabled={loading}\r\n              className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:bg-blue-300\"\r\n            >\r\n              {loading\r\n                ? \"Calculating...\"\r\n                : `Calculate Profit - ${format(selectedDate, \"MMM yyyy\")}`}\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full\">\r\n              <thead>\r\n                <tr className=\"bg-gray-50 border-b\">\r\n                  <th className=\"px-4 py-3 text-left font-semibold\">Ship</th>\r\n                  <th className=\"px-4 py-3 text-left font-semibold\">Month</th>\r\n                  <th className=\"px-4 py-3 text-right font-semibold\">Income</th>\r\n                  <th className=\"px-4 py-3 text-right font-semibold\">\r\n                    Expenses\r\n                  </th>\r\n                  <th className=\"px-4 py-3 text-right font-semibold\">\r\n                    Net Profit\r\n                  </th>\r\n                  <th className=\"px-4 py-3 text-center font-semibold\">Trend</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {Array.isArray(monthlyProfits) && monthlyProfits.length > 0 ? (\r\n                  monthlyProfits.map((profit, idx) => {\r\n                    const prevProfit =\r\n                      idx > 0\r\n                        ? monthlyProfits[idx - 1]?.net_profit\r\n                        : profit.net_profit;\r\n                    const profitTrend = profit.net_profit - prevProfit;\r\n                    return (\r\n                      <tr key={profit.id} className=\"border-b hover:bg-gray-50\">\r\n                        <td className=\"px-4 py-3\">{profit.ship_name}</td>\r\n                        <td className=\"px-4 py-3\">\r\n                          {format(new Date(profit.month), \"MMM yyyy\")}\r\n                        </td>\r\n                        <td className=\"px-4 py-3 text-right\">\r\n                          Tk {parseFloat(profit.total_income || 0).toFixed(2)}\r\n                        </td>\r\n                        <td className=\"px-4 py-3 text-right\">\r\n                          Tk {parseFloat(profit.total_expenses || 0).toFixed(2)}\r\n                        </td>\r\n                        <td\r\n                          className={`px-4 py-3 text-right font-semibold ${\r\n                            profit.net_profit >= 0\r\n                              ? \"text-green-600\"\r\n                              : \"text-red-600\"\r\n                          }`}\r\n                        >\r\n                          Tk {parseFloat(profit.net_profit || 0).toFixed(2)}\r\n                        </td>\r\n                        <td className=\"px-4 py-3 text-center\">\r\n                          <span\r\n                            className={`inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm font-semibold ${\r\n                              profitTrend >= 0\r\n                                ? \"bg-green-100 text-green-700\"\r\n                                : \"bg-red-100 text-red-700\"\r\n                            }`}\r\n                          >\r\n                            {profitTrend >= 0 ? \"↑\" : \"↓\"}{\" \"}\r\n                            {Math.abs(profitTrend).toFixed(0)}\r\n                          </span>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <tr>\r\n                    <td\r\n                      colSpan=\"6\"\r\n                      className=\"px-4 py-3 text-center text-gray-500\"\r\n                    >\r\n                      No profit data available. Click \"Calculate\" to generate\r\n                      profit reports.\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}